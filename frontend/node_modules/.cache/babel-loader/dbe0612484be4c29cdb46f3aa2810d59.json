{"ast":null,"code":"var _jsxFileName = \"/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/routes/Profile/ProfileComponents/ProfileBanner/Modals/ChangeUserDetailsModal.js\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nconst nameRegex = RegExp(/^[a-zA-Z_-]{0,30}$/);\nconst lastnameRegex = RegExp(/^[a-zA-Z\\s]+$/);\n\nconst formValid = ({\n  formErrors,\n  ...rest\n}) => {\n  let valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n  // console.log('Val :')\n\n  Object.values(rest).forEach(val => {//   // if(val !== 'selectedFile'){\n    //     val === null && (valid = false);\n    //   // }\n  });\n  return valid;\n};\n\nclass ChangeUserDetailsModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      firstName: null,\n      lastName: null,\n      location: null,\n      tagline: null,\n      selectedFile: null,\n      profilePic: null,\n      formErrors: {\n        firstName: \"\",\n        lastName: \"\",\n        location: \"\",\n        tagline: \"\" // selectedFile: \"\"\n\n      }\n    };\n\n    this.fileChangedHandler = event => {\n      console.log(URL.createObjectURL(event.target.files[0]));\n      this.setState({\n        selectedFile: event.target.files[0],\n        // profilePic : event.target.result\n        profilePic: URL.createObjectURL(event.target.files[0])\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (formValid(this.state)) {\n        setTimeout(() => {\n          this.props.editUserDetails(this.state);\n          this.props.hideModal();\n        }, 1000);\n      } else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const {\n        name,\n        value\n      } = e.target;\n      let formErrors = { ...this.state.formErrors\n      };\n\n      switch (name) {\n        case \"firstName\":\n          formErrors.firstName = (value.length < 3 && value.length > 0 ? \"minimum 3 characaters required\" : \"\") || (formErrors.firstName = nameRegex.test(value) ? \"\" : \"only characters allowed!\");\n          break;\n\n        case \"lastName\":\n          let spaceNum = 0;\n\n          for (let ch in value) {\n            if (value[ch] === \" \") {\n              spaceNum = spaceNum + 1;\n            }\n          }\n\n          formErrors.lastName = (spaceNum > 1 ? \"more than one space prohibited\" : \"\") || (value.length < 3 ? \"minimum 3 characaters required\" : \"\") || (formErrors.lastName = lastnameRegex.test(value) ? \"\" : \"only characters allowed!\");\n          break;\n\n        case \"location\":\n          formErrors.location = value.length < 3 ? \"minimum 3 characters required\" : \"\";\n          break;\n\n        case \"tagline\":\n          formErrors.tagline = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      });\n    };\n  }\n\n  render() {\n    const {\n      formErrors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n      show: true,\n      animation: false,\n      centered: true,\n      onHide: this.props.hideModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userEditDetails\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, \"Edit personal details!\"), /*#__PURE__*/React.createElement(\"i\", {\n      onClick: this.props.hideModal,\n      class: \"fas fa-times\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      className: \"editUserDetails\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, \"Firstname : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      className: formErrors.firstName.length > 0 ? \"error form-control\" : \"form-control\",\n      name: \"firstName\",\n      placeholder: \"First Name\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    })), formErrors.firstName.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, formErrors.firstName)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }, \"Lastname :\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      className: formErrors.lastName.length > 0 ? \"error form-control\" : \"form-control\",\n      name: \"lastName\",\n      placeholder: \"Last Name\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    })), formErrors.lastName.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, formErrors.lastName)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, \"Location :\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      className: formErrors.location.length > 0 ? \"error form-control\" : \"form-control\",\n      name: \"location\",\n      placeholder: \"Your location\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    })), formErrors.location.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, formErrors.location)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, \"Headline :\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: formErrors.tagline.length > 0 ? \"error form-control\" : \"form-control\",\n      name: \"tagline\",\n      placeholder: \"Your position\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    })), formErrors.tagline.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, formErrors.tagline)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, \"Profile Img : \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"img\",\n      onChange: this.fileChangedHandler,\n      type: \"file\",\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modalBottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"userCloseButton\",\n      onClick: this.props.hideModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"userSaveButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, \"Save\"))))));\n  }\n\n}\n\nexport default ChangeUserDetailsModal;","map":{"version":3,"sources":["/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/routes/Profile/ProfileComponents/ProfileBanner/Modals/ChangeUserDetailsModal.js"],"names":["React","Component","Modal","nameRegex","RegExp","lastnameRegex","formValid","formErrors","rest","valid","Object","values","forEach","val","length","ChangeUserDetailsModal","state","firstName","lastName","location","tagline","selectedFile","profilePic","fileChangedHandler","event","console","log","URL","createObjectURL","target","files","setState","handleSubmit","e","preventDefault","setTimeout","props","editUserDetails","hideModal","error","handleChange","name","value","test","spaceNum","ch","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\n\r\nconst nameRegex = RegExp(/^[a-zA-Z_-]{0,30}$/);\r\nconst lastnameRegex = RegExp(/^[a-zA-Z\\s]+$/);\r\n\r\nconst formValid = ({ formErrors, ...rest }) => {\r\n  let valid = true;\r\n\r\n  // validate form errors being empty\r\n  Object.values(formErrors).forEach((val) => {\r\n    val.length > 0 && (valid = false);\r\n  });\r\n\r\n  // validate the form was filled out\r\n  // console.log('Val :')\r\n  Object.values(rest).forEach((val) => {\r\n    //   // if(val !== 'selectedFile'){\r\n    //     val === null && (valid = false);\r\n    //   // }\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\nclass ChangeUserDetailsModal extends Component {\r\n  state = {\r\n    firstName: null,\r\n    lastName: null,\r\n    location: null,\r\n    tagline: null, \r\n    selectedFile: null,\r\n    profilePic: null,\r\n    formErrors: {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      location: \"\",\r\n      tagline: \"\"\r\n      // selectedFile: \"\"\r\n    },\r\n  };\r\n\r\n  fileChangedHandler = (event) => {\r\n    console.log(URL.createObjectURL(event.target.files[0]));\r\n    this.setState({ \r\n      selectedFile: event.target.files[0],\r\n      // profilePic : event.target.result\r\n      profilePic: URL.createObjectURL(event.target.files[0]),\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (formValid(this.state)) {\r\n      setTimeout(() => {\r\n        this.props.editUserDetails(this.state);\r\n        this.props.hideModal();\r\n      }, 1000);\r\n    } else {\r\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\r\n    }\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const { name, value } = e.target;\r\n    let formErrors = { ...this.state.formErrors };\r\n\r\n    switch (name) {\r\n      case \"firstName\":\r\n        formErrors.firstName =\r\n          (value.length < 3 && value.length > 0\r\n            ? \"minimum 3 characaters required\"\r\n            : \"\") ||\r\n          (formErrors.firstName = nameRegex.test(value)\r\n            ? \"\"\r\n            : \"only characters allowed!\");\r\n        break;\r\n\r\n      case \"lastName\":\r\n        let spaceNum = 0;\r\n        for (let ch in value) {\r\n          if (value[ch] === \" \") {\r\n            spaceNum = spaceNum + 1;\r\n          }\r\n        }\r\n        formErrors.lastName =\r\n          (spaceNum > 1 ? \"more than one space prohibited\" : \"\") ||\r\n          (value.length < 3 ? \"minimum 3 characaters required\" : \"\") ||\r\n          (formErrors.lastName = lastnameRegex.test(value)\r\n            ? \"\"\r\n            : \"only characters allowed!\");\r\n        break;\r\n\r\n      case \"location\":\r\n        formErrors.location =\r\n          value.length < 3 ? \"minimum 3 characters required\" : \"\";\r\n        break;\r\n\r\n      case \"tagline\":\r\n        formErrors.tagline =\r\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\r\n        break;\r\n\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({ formErrors, [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { formErrors } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          show={true}\r\n          animation={false}\r\n          centered\r\n          onHide={this.props.hideModal}\r\n        >\r\n          <div className=\"userEditDetails\">\r\n            <h5>Edit personal details!</h5>\r\n            <i onClick={this.props.hideModal} class=\"fas fa-times\"></i>\r\n            <form\r\n              encType=\"multipart/form-data\"\r\n              className=\"editUserDetails\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <div className=\"form-group\">\r\n                <div>\r\n                  <label>Firstname : </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    className={\r\n                      formErrors.firstName.length > 0\r\n                        ? \"error form-control\"\r\n                        : \"form-control\"\r\n                    }\r\n                    name=\"firstName\"\r\n                    placeholder=\"First Name\"\r\n                    onChange={this.handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                {formErrors.firstName.length > 0 && (\r\n                  <span className=\"errorMessage\">{formErrors.firstName}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <div>\r\n                  <label>Lastname :</label>\r\n                  <br></br>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    className={\r\n                      formErrors.lastName.length > 0\r\n                        ? \"error form-control\"\r\n                        : \"form-control\"\r\n                    }\r\n                    name=\"lastName\"\r\n                    placeholder=\"Last Name\"\r\n                    onChange={this.handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                {formErrors.lastName.length > 0 && (\r\n                  <span className=\"errorMessage\">{formErrors.lastName}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <div>\r\n                  <label>Location :</label>\r\n                  <br></br>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    className={\r\n                      formErrors.location.length > 0\r\n                        ? \"error form-control\"\r\n                        : \"form-control\"\r\n                    }\r\n                    name=\"location\"\r\n                    placeholder=\"Your location\"\r\n                    onChange={this.handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                {formErrors.location.length > 0 && (\r\n                  <span className=\"errorMessage\">{formErrors.location}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <div>\r\n                  <label>Headline :</label>\r\n                  <br></br>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={\r\n                      formErrors.tagline.length > 0\r\n                        ? \"error form-control\"\r\n                        : \"form-control\"\r\n                    }\r\n                    name=\"tagline\"\r\n                    placeholder=\"Your position\"\r\n                    onChange={this.handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                {formErrors.tagline.length > 0 && (\r\n                  <span className=\"errorMessage\">{formErrors.tagline}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Profile Img : </label>\r\n                <br></br>\r\n                <div>\r\n                  <input\r\n                    name=\"img\"\r\n                    onChange={this.fileChangedHandler}\r\n                    type=\"file\"\r\n                    style={{ width: \"100%\" }}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"modalBottom\">\r\n                <h6 className=\"userCloseButton\" onClick={this.props.hideModal}>\r\n                  Close\r\n                </h6>\r\n                <button type=\"submit\" className=\"userSaveButton\">\r\n                  Save\r\n                </button>\r\n                {/* <h6 type='submit' className=\"userSaveButton\">Save</h6> */}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangeUserDetailsModal;\r\n"]},"metadata":{},"sourceType":"module"}