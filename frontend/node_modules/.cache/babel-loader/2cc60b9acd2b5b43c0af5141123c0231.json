{"ast":null,"code":"var _jsxFileName = \"/home/sergi/Documents/Repos/Reps/LinkedIn-clone/Front-End/src/routes/User/UserComponents/Skills/Skills.js\";\nimport Axios from \"axios\";\nimport React, { Component } from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport ShowEndorsedList from \"./Modals/ShowEndorsedList\";\nimport axios from '../../../../API/baseURL/baseURL';\nimport \"./Skills.css\";\nconst skillsData = [{\n  skill: \"Competitive Coding\",\n  endorsed: 4,\n  isEndorsed: true,\n  list: [{\n    profPic: null,\n    firstName: \"Aryan\",\n    lastName: \"Kishore\",\n    position: \"Web Developer\",\n    industry: \"IIT Kharagpur\"\n  }, {\n    profPic: null,\n    firstName: \"Aryan\",\n    lastName: \"Kishore\",\n    position: \"Web Developer\",\n    industry: \"IIT Kharagpur\"\n  }]\n}, {\n  skill: \"React JS\",\n  endorsed: 13,\n  isEndorsed: false\n}, {\n  skill: \"Node JS\",\n  endorsed: 19,\n  isEndorsed: true\n}, {\n  skill: \"DJango\",\n  endorsed: 25,\n  isEndorsed: false\n}, {\n  skill: \"C++\",\n  endorsed: 30,\n  isEndorsed: true\n}, {\n  skill: \"Cascading Style Sheet\",\n  endorsed: 7,\n  isEndorsed: true\n}];\n\nclass Skills extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showModal: false,\n      // skills: skillsData,\n      // displaySkills: skillsData.slice(0, 3),\n      skills: null,\n      displaySkills: null,\n      showingAllSkills: false,\n      modalNum: null,\n      modalData: null,\n      isLoading: true,\n      connectStatus: \"connected\"\n    };\n\n    this.displayModal = id => {\n      this.setState({\n        showModal: true,\n        modalNum: id\n      });\n    };\n\n    this.hideModal = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.showMore = () => {\n      this.setState({\n        displaySkills: this.state.skills,\n        showingAllSkills: true\n      });\n    };\n\n    this.showLess = () => {\n      this.setState({\n        displaySkills: this.state.skills.slice(0, 3),\n        showingAllSkills: false\n      });\n    };\n\n    this.showEndorseList = data => {\n      this.setState({\n        showModal: true,\n        modalNum: 2,\n        modalData: data\n      });\n    };\n\n    this.endorseSkill = id => {\n      let arr = this.state.skills;\n      arr[id].isEndorsed = true;\n      arr[id].endorsed = arr[id].endorsed + 1;\n      this.setState({\n        skills: arr\n      });\n    };\n\n    this.unendorseSkill = id => {\n      let arr = this.state.skills;\n      arr[id].isEndorsed = false;\n\n      if (arr[id].endorsed !== 0) {\n        arr[id].endorsed = arr[id].endorsed - 1;\n      }\n\n      this.setState({\n        skills: arr\n      });\n    };\n\n    this.hideAlert = () => {\n      this.setState({\n        showAlert: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        isLoading: false\n      });\n    }, 2500);\n    let token = localStorage.getItem(\"accessToken\");\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    let profId = localStorage.getItem(\"profileID\");\n    axios.get(`/user/profile/skills/${this.props.userID}/`, config).then(res => {\n      console.log(res);\n      this.setState({\n        isLoading: false,\n        skills: res.data.skills_list,\n        displaySkills: res.data.skills_list.slice(0, 3),\n        skillID: res.data.id\n      }); // console.log(this.state.displaySkills);\n    }).catch(err => {\n      console.log(err.response); // console.log(this.state);\n      // // if (err.response.status === 404) {\n\n      this.setState({\n        isLoading: false,\n        skills: []\n      }); // }\n    });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          marginBottom: \"20px\"\n        },\n        className: \"profStrength\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        height: 21,\n        width: 210,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Skeleton, {\n        style: {\n          marginBottom: \"12px\"\n        },\n        height: 15,\n        width: 170,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        style: {\n          marginBottom: \"12px\"\n        },\n        height: 15,\n        width: 130,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        style: {\n          marginBottom: \"12px\"\n        },\n        height: 15,\n        width: 150,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        style: {\n          marginBottom: \"12px\"\n        },\n        height: 15,\n        width: 170,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    let conditionalButton = null;\n\n    if (this.state.skills !== null && this.state.skills.length > 3) {\n      if (!this.state.showingAllSkills) {\n        conditionalButton = /*#__PURE__*/React.createElement(\"h6\", {\n          onClick: this.showMore,\n          className: \"showMore\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }\n        }, \"Show More\");\n      }\n\n      if (this.state.showingAllSkills) {\n        conditionalButton = /*#__PURE__*/React.createElement(\"h6\", {\n          onClick: this.showLess,\n          className: \"showMore\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }\n        }, \"Show Less\");\n      }\n    }\n\n    let skillsData = null;\n\n    if (this.state.skills !== null && this.state.skills.length === 0) {\n      skillsData = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          transform: \"translateY(-10px)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          fontWeight: \"350\",\n          color: \"darkgrey\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }, \"User has not added any skills to showcase\"));\n    }\n\n    if (this.state.skills !== null && this.state.skills.length !== 0) {\n      skillsData = this.state.displaySkills.map((elem, id) => {\n        let endorseIcon = null;\n\n        if (this.state.connectStatus === \"connected\") {\n          if (elem.isEndorsed) {\n            endorseIcon = /*#__PURE__*/React.createElement(\"i\", {\n              onClick: () => this.unendorseSkill(id),\n              class: \"far endorseIcon fa-check-circle\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 15\n              }\n            });\n          }\n\n          if (!elem.isEndorsed) {\n            endorseIcon = /*#__PURE__*/React.createElement(\"i\", {\n              onClick: () => this.endorseSkill(id),\n              class: \"fas endorseIcon fa-plus-circle\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 15\n              }\n            });\n          }\n        }\n\n        if (this.state.connectStatus === \"notConnected\" || this.state.connectStatus === \"pending\") {\n          endorseIcon = null;\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"skillBox\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"skill\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          onClick: () => {\n            this.showEndorseList(elem);\n          },\n          className: \"skillName\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }\n        }, elem), /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            transform: \"translateY(-8px) scale(1.6)\",\n            marginRight: \"10px\",\n            fontWeight: \"500\",\n            color: \"rgb(112, 112, 112)\",\n            textDecoration: \"none !important\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }\n        }, \".\"), /*#__PURE__*/React.createElement(\"span\", {\n          onClick: () => {\n            this.showEndorseList(elem);\n          },\n          className: \"endorse\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }\n        }, elem.endorsed)));\n      });\n    }\n\n    let modalData = null;\n\n    if (this.state.showModal && this.state.modalNum === 2) {\n      modalData = /*#__PURE__*/React.createElement(ShowEndorsedList, {\n        data: this.state.modalData,\n        hideModal: this.hideModal // addExperience={this.addExperience}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, modalData, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        color: \"red !important\"\n      },\n      className: \"profStrength\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }\n    }, \"Skills & Endorsements\"), skillsData, conditionalButton);\n  }\n\n}\n\nexport default Skills;","map":{"version":3,"sources":["/home/sergi/Documents/Repos/Reps/LinkedIn-clone/Front-End/src/routes/User/UserComponents/Skills/Skills.js"],"names":["Axios","React","Component","Skeleton","ShowEndorsedList","axios","skillsData","skill","endorsed","isEndorsed","list","profPic","firstName","lastName","position","industry","Skills","state","showModal","skills","displaySkills","showingAllSkills","modalNum","modalData","isLoading","connectStatus","displayModal","id","setState","hideModal","showMore","showLess","slice","showEndorseList","data","endorseSkill","arr","unendorseSkill","hideAlert","showAlert","componentDidMount","setTimeout","token","localStorage","getItem","config","headers","Authorization","profId","get","props","userID","then","res","console","log","skills_list","skillID","catch","err","response","render","marginBottom","conditionalButton","length","textAlign","transform","fontWeight","color","map","elem","endorseIcon","marginRight","textDecoration"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAO,cAAP;AAEA,MAAMC,UAAU,GAAG,CACjB;AACEC,EAAAA,KAAK,EAAE,oBADT;AAEEC,EAAAA,QAAQ,EAAE,CAFZ;AAGEC,EAAAA,UAAU,EAAE,IAHd;AAIEC,EAAAA,IAAI,EAAE,CACJ;AACEC,IAAAA,OAAO,EAAE,IADX;AAEEC,IAAAA,SAAS,EAAE,OAFb;AAGEC,IAAAA,QAAQ,EAAE,SAHZ;AAIEC,IAAAA,QAAQ,EAAE,eAJZ;AAKEC,IAAAA,QAAQ,EAAE;AALZ,GADI,EAQJ;AACEJ,IAAAA,OAAO,EAAE,IADX;AAEEC,IAAAA,SAAS,EAAE,OAFb;AAGEC,IAAAA,QAAQ,EAAE,SAHZ;AAIEC,IAAAA,QAAQ,EAAE,eAJZ;AAKEC,IAAAA,QAAQ,EAAE;AALZ,GARI;AAJR,CADiB,EAsBjB;AACER,EAAAA,KAAK,EAAE,UADT;AAEEC,EAAAA,QAAQ,EAAE,EAFZ;AAGEC,EAAAA,UAAU,EAAE;AAHd,CAtBiB,EA2BjB;AACEF,EAAAA,KAAK,EAAE,SADT;AAEEC,EAAAA,QAAQ,EAAE,EAFZ;AAGEC,EAAAA,UAAU,EAAE;AAHd,CA3BiB,EAgCjB;AACEF,EAAAA,KAAK,EAAE,QADT;AAEEC,EAAAA,QAAQ,EAAE,EAFZ;AAGEC,EAAAA,UAAU,EAAE;AAHd,CAhCiB,EAqCjB;AACEF,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,QAAQ,EAAE,EAFZ;AAGEC,EAAAA,UAAU,EAAE;AAHd,CArCiB,EA0CjB;AACEF,EAAAA,KAAK,EAAE,uBADT;AAEEC,EAAAA,QAAQ,EAAE,CAFZ;AAGEC,EAAAA,UAAU,EAAE;AAHd,CA1CiB,CAAnB;;AAiDA,MAAMO,MAAN,SAAqBd,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC7Be,KAD6B,GACrB;AACNC,MAAAA,SAAS,EAAE,KADL;AAEN;AACA;AACAC,MAAAA,MAAM,EAAE,IAJF;AAKNC,MAAAA,aAAa,EAAE,IALT;AAMNC,MAAAA,gBAAgB,EAAE,KANZ;AAONC,MAAAA,QAAQ,EAAE,IAPJ;AAQNC,MAAAA,SAAS,EAAE,IARL;AASNC,MAAAA,SAAS,EAAE,IATL;AAUNC,MAAAA,aAAa,EAAE;AAVT,KADqB;;AAAA,SA4C7BC,YA5C6B,GA4CbC,EAAD,IAAQ;AACrB,WAAKC,QAAL,CAAc;AAAEV,QAAAA,SAAS,EAAE,IAAb;AAAmBI,QAAAA,QAAQ,EAAEK;AAA7B,OAAd;AACD,KA9C4B;;AAAA,SA+C7BE,SA/C6B,GA+CjB,MAAM;AAChB,WAAKD,QAAL,CAAc;AAAEV,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAjD4B;;AAAA,SAkD7BY,QAlD6B,GAkDlB,MAAM;AACf,WAAKF,QAAL,CAAc;AACZR,QAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWE,MADd;AAEZE,QAAAA,gBAAgB,EAAE;AAFN,OAAd;AAID,KAvD4B;;AAAA,SAwD7BU,QAxD6B,GAwDlB,MAAM;AACf,WAAKH,QAAL,CAAc;AACZR,QAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWE,MAAX,CAAkBa,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CADH;AAEZX,QAAAA,gBAAgB,EAAE;AAFN,OAAd;AAID,KA7D4B;;AAAA,SA8D7BY,eA9D6B,GA8DVC,IAAD,IAAU;AAC1B,WAAKN,QAAL,CAAc;AACZV,QAAAA,SAAS,EAAE,IADC;AAEZI,QAAAA,QAAQ,EAAE,CAFE;AAGZC,QAAAA,SAAS,EAAEW;AAHC,OAAd;AAKD,KApE4B;;AAAA,SAsE7BC,YAtE6B,GAsEbR,EAAD,IAAQ;AACrB,UAAIS,GAAG,GAAG,KAAKnB,KAAL,CAAWE,MAArB;AACAiB,MAAAA,GAAG,CAACT,EAAD,CAAH,CAAQlB,UAAR,GAAqB,IAArB;AACA2B,MAAAA,GAAG,CAACT,EAAD,CAAH,CAAQnB,QAAR,GAAmB4B,GAAG,CAACT,EAAD,CAAH,CAAQnB,QAAR,GAAmB,CAAtC;AACA,WAAKoB,QAAL,CAAc;AAAET,QAAAA,MAAM,EAAEiB;AAAV,OAAd;AACD,KA3E4B;;AAAA,SA4E7BC,cA5E6B,GA4EXV,EAAD,IAAQ;AACvB,UAAIS,GAAG,GAAG,KAAKnB,KAAL,CAAWE,MAArB;AACAiB,MAAAA,GAAG,CAACT,EAAD,CAAH,CAAQlB,UAAR,GAAqB,KAArB;;AACA,UAAI2B,GAAG,CAACT,EAAD,CAAH,CAAQnB,QAAR,KAAqB,CAAzB,EAA4B;AAC1B4B,QAAAA,GAAG,CAACT,EAAD,CAAH,CAAQnB,QAAR,GAAmB4B,GAAG,CAACT,EAAD,CAAH,CAAQnB,QAAR,GAAmB,CAAtC;AACD;;AACD,WAAKoB,QAAL,CAAc;AAAET,QAAAA,MAAM,EAAEiB;AAAV,OAAd;AACD,KAnF4B;;AAAA,SAqF7BE,SArF6B,GAqFjB,MAAM;AAChB,WAAKV,QAAL,CAAc;AAAEW,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAvF4B;AAAA;;AAc7BC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,UAAU,CAAC,MAAM;AACf,WAAKb,QAAL,CAAc;AAAEJ,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAFS,EAEP,IAFO,CAAV;AAGA,QAAIkB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ;AACA,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASL,KAAM;AAAjC;AADI,KAAf;AAGA,QAAIM,MAAM,GAAGL,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAb;AACAvC,IAAAA,KAAK,CACF4C,GADH,CACQ,wBAAuB,KAAKC,KAAL,CAAWC,MAAO,GADjD,EACqDN,MADrD,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKzB,QAAL,CAAc;AACZJ,QAAAA,SAAS,EAAE,KADC;AAEZL,QAAAA,MAAM,EAAEkC,GAAG,CAACnB,IAAJ,CAASsB,WAFL;AAGZpC,QAAAA,aAAa,EAAEiC,GAAG,CAACnB,IAAJ,CAASsB,WAAT,CAAqBxB,KAArB,CAA2B,CAA3B,EAA8B,CAA9B,CAHH;AAIZyB,QAAAA,OAAO,EAAEJ,GAAG,CAACnB,IAAJ,CAASP;AAJN,OAAd,EAFa,CAQb;AACD,KAXH,EAYG+B,KAZH,CAYUC,GAAD,IAAS;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,QAAhB,EADc,CAEd;AACA;;AACA,WAAKhC,QAAL,CAAc;AAAEJ,QAAAA,SAAS,EAAE,KAAb;AAAoBL,QAAAA,MAAM,EAAE;AAA5B,OAAd,EAJc,CAKd;AACD,KAlBH;AAmBD;;AA+CD0C,EAAAA,MAAM,GAAG;AACP,QAAI,KAAK5C,KAAL,CAAWO,SAAf,EAA0B;AACxB,0BACE,uDACE;AAAI,QAAA,KAAK,EAAE;AAAEsC,UAAAA,YAAY,EAAE;AAAhB,SAAX;AAAqC,QAAA,SAAS,EAAC,cAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAU,QAAA,MAAM,EAAE,EAAlB;AAAsB,QAAA,KAAK,EAAE,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEA,UAAAA,YAAY,EAAE;AAAhB,SAAjB;AAA2C,QAAA,MAAM,EAAE,EAAnD;AAAuD,QAAA,KAAK,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,eAME,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEA,UAAAA,YAAY,EAAE;AAAhB,SAAjB;AAA2C,QAAA,MAAM,EAAE,EAAnD;AAAuD,QAAA,KAAK,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,eAQE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEA,UAAAA,YAAY,EAAE;AAAhB,SAAjB;AAA2C,QAAA,MAAM,EAAE,EAAnD;AAAuD,QAAA,KAAK,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,eAUE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEA,UAAAA,YAAY,EAAE;AAAhB,SAAjB;AAA2C,QAAA,MAAM,EAAE,EAAnD;AAAuD,QAAA,KAAK,EAAE,GAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,CADF;AAeD;;AAED,QAAIC,iBAAiB,GAAG,IAAxB;;AACA,QAAI,KAAK9C,KAAL,CAAWE,MAAX,KAAsB,IAAtB,IAA8B,KAAKF,KAAL,CAAWE,MAAX,CAAkB6C,MAAlB,GAA2B,CAA7D,EAAgE;AAC9D,UAAI,CAAC,KAAK/C,KAAL,CAAWI,gBAAhB,EAAkC;AAChC0C,QAAAA,iBAAiB,gBACf;AAAI,UAAA,OAAO,EAAE,KAAKjC,QAAlB;AAA4B,UAAA,SAAS,EAAC,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF;AAKD;;AACD,UAAI,KAAKb,KAAL,CAAWI,gBAAf,EAAiC;AAC/B0C,QAAAA,iBAAiB,gBACf;AAAI,UAAA,OAAO,EAAE,KAAKhC,QAAlB;AAA4B,UAAA,SAAS,EAAC,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF;AAKD;AACF;;AAED,QAAIzB,UAAU,GAAG,IAAjB;;AACA,QAAI,KAAKW,KAAL,CAAWE,MAAX,KAAsB,IAAtB,IAA8B,KAAKF,KAAL,CAAWE,MAAX,CAAkB6C,MAAlB,KAA6B,CAA/D,EAAkE;AAChE1D,MAAAA,UAAU,gBACR;AAAK,QAAA,KAAK,EAAE;AAAE2D,UAAAA,SAAS,EAAE,QAAb;AAAuBC,UAAAA,SAAS,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE,KAAd;AAAqBC,UAAAA,KAAK,EAAE;AAA5B,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF,CADF;AAOD;;AACD,QAAI,KAAKnD,KAAL,CAAWE,MAAX,KAAsB,IAAtB,IAA8B,KAAKF,KAAL,CAAWE,MAAX,CAAkB6C,MAAlB,KAA6B,CAA/D,EAAkE;AAChE1D,MAAAA,UAAU,GAAG,KAAKW,KAAL,CAAWG,aAAX,CAAyBiD,GAAzB,CAA6B,CAACC,IAAD,EAAO3C,EAAP,KAAc;AACtD,YAAI4C,WAAW,GAAG,IAAlB;;AACA,YAAI,KAAKtD,KAAL,CAAWQ,aAAX,KAA6B,WAAjC,EAA8C;AAC5C,cAAI6C,IAAI,CAAC7D,UAAT,EAAqB;AACnB8D,YAAAA,WAAW,gBACT;AACE,cAAA,OAAO,EAAE,MAAM,KAAKlC,cAAL,CAAoBV,EAApB,CADjB;AAEE,cAAA,KAAK,EAAC,iCAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAMD;;AACD,cAAI,CAAC2C,IAAI,CAAC7D,UAAV,EAAsB;AACpB8D,YAAAA,WAAW,gBACT;AACE,cAAA,OAAO,EAAE,MAAM,KAAKpC,YAAL,CAAkBR,EAAlB,CADjB;AAEE,cAAA,KAAK,EAAC,gCAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAMD;AACF;;AACD,YACE,KAAKV,KAAL,CAAWQ,aAAX,KAA6B,cAA7B,IACA,KAAKR,KAAL,CAAWQ,aAAX,KAA6B,SAF/B,EAGE;AACA8C,UAAAA,WAAW,GAAG,IAAd;AACD;;AAED,4BACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAI,UAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEE;AACE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKtC,eAAL,CAAqBqC,IAArB;AACD,WAHH;AAIE,UAAA,SAAS,EAAC,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOGA,IAPH,CAFF,eAWE;AACE,UAAA,KAAK,EAAE;AACLJ,YAAAA,SAAS,EAAE,6BADN;AAELM,YAAAA,WAAW,EAAE,MAFR;AAGLL,YAAAA,UAAU,EAAE,KAHP;AAILC,YAAAA,KAAK,EAAE,oBAJF;AAKLK,YAAAA,cAAc,EAAE;AALX,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAXF,eAsBE;AACE,UAAA,OAAO,EAAE,MAAM;AACb,iBAAKxC,eAAL,CAAqBqC,IAArB;AACD,WAHH;AAIE,UAAA,SAAS,EAAC,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMGA,IAAI,CAAC9D,QANR,CAtBF,CADF,CADF;AAmCD,OA9DY,CAAb;AA+DD;;AAED,QAAIe,SAAS,GAAG,IAAhB;;AACA,QAAI,KAAKN,KAAL,CAAWC,SAAX,IAAwB,KAAKD,KAAL,CAAWK,QAAX,KAAwB,CAApD,EAAuD;AACrDC,MAAAA,SAAS,gBACP,oBAAC,gBAAD;AACE,QAAA,IAAI,EAAE,KAAKN,KAAL,CAAWM,SADnB;AAEE,QAAA,SAAS,EAAE,KAAKM,SAFlB,CAGE;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD;;AAED,wBACE,0CACGN,SADH,eAEE;AAAI,MAAA,KAAK,EAAE;AAAE6C,QAAAA,KAAK,EAAE;AAAT,OAAX;AAAwC,MAAA,SAAS,EAAC,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,EAKG9D,UALH,EAMGyD,iBANH,CADF;AAUD;;AA/N4B;;AAkO/B,eAAe/C,MAAf","sourcesContent":["import Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport ShowEndorsedList from \"./Modals/ShowEndorsedList\";\r\nimport axios from '../../../../API/baseURL/baseURL';\r\nimport \"./Skills.css\";\r\n\r\nconst skillsData = [\r\n  {\r\n    skill: \"Competitive Coding\",\r\n    endorsed: 4,\r\n    isEndorsed: true,\r\n    list: [\r\n      {\r\n        profPic: null,\r\n        firstName: \"Aryan\",\r\n        lastName: \"Kishore\",\r\n        position: \"Web Developer\",\r\n        industry: \"IIT Kharagpur\",\r\n      },\r\n      {\r\n        profPic: null,\r\n        firstName: \"Aryan\",\r\n        lastName: \"Kishore\",\r\n        position: \"Web Developer\",\r\n        industry: \"IIT Kharagpur\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    skill: \"React JS\",\r\n    endorsed: 13,\r\n    isEndorsed: false,\r\n  },\r\n  {\r\n    skill: \"Node JS\",\r\n    endorsed: 19,\r\n    isEndorsed: true,\r\n  },\r\n  {\r\n    skill: \"DJango\",\r\n    endorsed: 25,\r\n    isEndorsed: false,\r\n  },\r\n  {\r\n    skill: \"C++\",\r\n    endorsed: 30,\r\n    isEndorsed: true,\r\n  },\r\n  {\r\n    skill: \"Cascading Style Sheet\",\r\n    endorsed: 7,\r\n    isEndorsed: true,\r\n  },\r\n];\r\n\r\nclass Skills extends Component {\r\n  state = {\r\n    showModal: false,\r\n    // skills: skillsData,\r\n    // displaySkills: skillsData.slice(0, 3),\r\n    skills: null,\r\n    displaySkills: null,\r\n    showingAllSkills: false,\r\n    modalNum: null,\r\n    modalData: null,\r\n    isLoading: true,\r\n    connectStatus: \"connected\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      this.setState({ isLoading: false });\r\n    }, 2500);\r\n    let token = localStorage.getItem(\"accessToken\");\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    let profId = localStorage.getItem(\"profileID\");\r\n    axios\r\n      .get(`/user/profile/skills/${this.props.userID}/`, config)\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.setState({\r\n          isLoading: false,\r\n          skills: res.data.skills_list,\r\n          displaySkills: res.data.skills_list.slice(0, 3),\r\n          skillID: res.data.id,\r\n        });\r\n        // console.log(this.state.displaySkills);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response);\r\n        // console.log(this.state);\r\n        // // if (err.response.status === 404) {\r\n        this.setState({ isLoading: false, skills: [] });\r\n        // }\r\n      });\r\n  }\r\n\r\n  displayModal = (id) => {\r\n    this.setState({ showModal: true, modalNum: id });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  showMore = () => {\r\n    this.setState({\r\n      displaySkills: this.state.skills,\r\n      showingAllSkills: true,\r\n    });\r\n  };\r\n  showLess = () => {\r\n    this.setState({\r\n      displaySkills: this.state.skills.slice(0, 3),\r\n      showingAllSkills: false,\r\n    });\r\n  };\r\n  showEndorseList = (data) => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalNum: 2,\r\n      modalData: data,\r\n    });\r\n  };\r\n\r\n  endorseSkill = (id) => {\r\n    let arr = this.state.skills;\r\n    arr[id].isEndorsed = true;\r\n    arr[id].endorsed = arr[id].endorsed + 1;\r\n    this.setState({ skills: arr });\r\n  };\r\n  unendorseSkill = (id) => {\r\n    let arr = this.state.skills;\r\n    arr[id].isEndorsed = false;\r\n    if (arr[id].endorsed !== 0) {\r\n      arr[id].endorsed = arr[id].endorsed - 1;\r\n    }\r\n    this.setState({ skills: arr });\r\n  };\r\n\r\n  hideAlert = () => {\r\n    this.setState({ showAlert: false });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.isLoading) {\r\n      return (\r\n        <>\r\n          <h5 style={{ marginBottom: \"20px\" }} className=\"profStrength\">\r\n            <Skeleton height={21} width={210} />\r\n          </h5>\r\n          <Skeleton style={{ marginBottom: \"12px\" }} height={15} width={170} />\r\n          <br />\r\n          <Skeleton style={{ marginBottom: \"12px\" }} height={15} width={130} />\r\n          <br />\r\n          <Skeleton style={{ marginBottom: \"12px\" }} height={15} width={150} />\r\n          <br />\r\n          <Skeleton style={{ marginBottom: \"12px\" }} height={15} width={170} />\r\n          <br />\r\n        </>\r\n      );\r\n    }\r\n\r\n    let conditionalButton = null;\r\n    if (this.state.skills !== null && this.state.skills.length > 3) {\r\n      if (!this.state.showingAllSkills) {\r\n        conditionalButton = (\r\n          <h6 onClick={this.showMore} className=\"showMore\">\r\n            Show More\r\n          </h6>\r\n        );\r\n      }\r\n      if (this.state.showingAllSkills) {\r\n        conditionalButton = (\r\n          <h6 onClick={this.showLess} className=\"showMore\">\r\n            Show Less\r\n          </h6>\r\n        );\r\n      }\r\n    }\r\n\r\n    let skillsData = null;\r\n    if (this.state.skills !== null && this.state.skills.length === 0) {\r\n      skillsData = (\r\n        <div style={{ textAlign: \"center\", transform: \"translateY(-10px)\" }}>\r\n          <h6 style={{ fontWeight: \"350\", color: \"darkgrey\" }}>\r\n            User has not added any skills to showcase\r\n          </h6>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.state.skills !== null && this.state.skills.length !== 0) {\r\n      skillsData = this.state.displaySkills.map((elem, id) => {\r\n        let endorseIcon = null;\r\n        if (this.state.connectStatus === \"connected\") {\r\n          if (elem.isEndorsed) {\r\n            endorseIcon = (\r\n              <i\r\n                onClick={() => this.unendorseSkill(id)}\r\n                class=\"far endorseIcon fa-check-circle\"\r\n              ></i>\r\n            );\r\n          }\r\n          if (!elem.isEndorsed) {\r\n            endorseIcon = (\r\n              <i\r\n                onClick={() => this.endorseSkill(id)}\r\n                class=\"fas endorseIcon fa-plus-circle\"\r\n              ></i>\r\n            );\r\n          }\r\n        }\r\n        if (\r\n          this.state.connectStatus === \"notConnected\" ||\r\n          this.state.connectStatus === \"pending\"\r\n        ) {\r\n          endorseIcon = null;\r\n        }\r\n\r\n        return (\r\n          <div className=\"skillBox\">\r\n            <h6 className=\"skill\">\r\n              {/* {endorseIcon} */}\r\n              <span\r\n                onClick={() => {\r\n                  this.showEndorseList(elem);\r\n                }}\r\n                className=\"skillName\"\r\n              >\r\n                {/* {elem.skill} */}\r\n                {elem}\r\n              </span>\r\n              <span\r\n                style={{\r\n                  transform: \"translateY(-8px) scale(1.6)\",\r\n                  marginRight: \"10px\",\r\n                  fontWeight: \"500\",\r\n                  color: \"rgb(112, 112, 112)\",\r\n                  textDecoration: \"none !important\",\r\n                }}\r\n              >\r\n                .\r\n              </span>\r\n              <span\r\n                onClick={() => {\r\n                  this.showEndorseList(elem);\r\n                }}\r\n                className=\"endorse\"\r\n              >\r\n                {elem.endorsed}\r\n              </span>\r\n            </h6>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n\r\n    let modalData = null;\r\n    if (this.state.showModal && this.state.modalNum === 2) {\r\n      modalData = (\r\n        <ShowEndorsedList\r\n          data={this.state.modalData}\r\n          hideModal={this.hideModal}\r\n          // addExperience={this.addExperience}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {modalData}\r\n        <h5 style={{ color: \"red !important\" }} className=\"profStrength\">\r\n          Skills & Endorsements\r\n        </h5>\r\n        {skillsData}\r\n        {conditionalButton}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Skills;\r\n"]},"metadata":{},"sourceType":"module"}