{"ast":null,"code":"var _jsxFileName = \"/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/routes/PostJob/PostJob.js\";\nimport React, { Component } from \"react\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport PostJobForm from \"./PostJobForm\";\nimport Loader from \"../../components/Loader/Loader\";\nimport CustomAlert from \"../../components/CustomAlert/CustomAlert\";\nimport axios from \"../../API/baseURL/baseURL\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./PostJob.css\";\n\nclass PostJob extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: false,\n      alertColor: \"success\",\n      alertData: \"Publicación exitosa\",\n      showAlert: false\n    };\n\n    this.hidePop = () => {\n      this.setState({\n        showAlert: false\n      });\n    };\n\n    this.submitForm = details => {\n      console.log(details);\n      let fd = new FormData();\n      fd.append(\"organization\", details.company);\n      fd.append(\"title\", details.jobTitle);\n      fd.append(\"is_remote\", false);\n      fd.append(\"location\", details.location);\n      fd.append(\"employment_type\", details.employmentType);\n      fd.append(\"description\", details.description);\n\n      if (details.companyLogo !== null) {\n        fd.append(\"file_linked\", details.companyLogo);\n      }\n\n      fd.append(\"skills_required\", details.skillsRequired);\n      fd.append(\"industry\", details.industry);\n      fd.append(\"pay_range\", details.payRange);\n      console.log(fd);\n      let token = localStorage.getItem(\"accessToken\");\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      let profID = localStorage.getItem(\"profileID\");\n      axios.post(`/user/profile/vacancy/`, fd, config).then(res => {\n        console.log(res);\n\n        if (res.status === 201) {\n          this.setState({\n            showAlert: true,\n            alertColor: \"success\",\n            alertData: \"Publicación exitosa\"\n          });\n          setTimeout(() => {\n            this.setState({\n              showAlert: false\n            });\n          }, 2000);\n        }\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          showAlert: true,\n          alertColor: \"danger\",\n          alertData: \"Algo malió sal\"\n        });\n        setTimeout(() => {\n          this.setState({\n            showAlert: false\n          });\n        }, 2000);\n      });\n    };\n  }\n\n  render() {\n    let logStatus = localStorage.getItem('logStatus');\n\n    if (logStatus === null) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/userLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 14\n        }\n      });\n    }\n\n    let alertData = null;\n\n    if (this.state.showAlert) {\n      alertData = /*#__PURE__*/React.createElement(CustomAlert, {\n        color: this.state.alertColor,\n        content: this.state.alertData,\n        hidePop: this.hidePop,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }), alertData, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body postJobsBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"postJobHeadLine\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Consigue tus a\\xF1os r\\xB4pido\"), /*#__PURE__*/React.createElement(PostJobForm, {\n      submitForm: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default PostJob;","map":{"version":3,"sources":["/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/routes/PostJob/PostJob.js"],"names":["React","Component","Navbar","PostJobForm","Loader","CustomAlert","axios","Redirect","PostJob","state","isLoading","alertColor","alertData","showAlert","hidePop","setState","submitForm","details","console","log","fd","FormData","append","company","jobTitle","location","employmentType","description","companyLogo","skillsRequired","industry","payRange","token","localStorage","getItem","config","headers","Authorization","profID","post","then","res","status","setTimeout","catch","err","render","logStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Navbar from \"../../components/Navbar/Navbar\";\r\nimport PostJobForm from \"./PostJobForm\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport CustomAlert from \"../../components/CustomAlert/CustomAlert\";\r\nimport axios from \"../../API/baseURL/baseURL\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport \"./PostJob.css\";\r\n\r\nclass PostJob extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    alertColor: \"success\",\r\n    alertData: \"Publicación exitosa\",\r\n    showAlert: false,\r\n  };\r\n\r\n  hidePop = () => {\r\n    this.setState({ showAlert: false });\r\n  };\r\n\r\n  submitForm = (details) => {\r\n    console.log(details);\r\n    let fd = new FormData();\r\n    fd.append(\"organization\", details.company);\r\n    fd.append(\"title\", details.jobTitle);\r\n    fd.append(\"is_remote\", false);\r\n    fd.append(\"location\", details.location);\r\n    fd.append(\"employment_type\", details.employmentType);\r\n    fd.append(\"description\", details.description);\r\n    if (details.companyLogo !== null) {\r\n      fd.append(\"file_linked\", details.companyLogo);\r\n    }\r\n    fd.append(\"skills_required\", details.skillsRequired);\r\n    fd.append(\"industry\", details.industry);\r\n    fd.append(\"pay_range\", details.payRange);\r\n\r\n    console.log(fd);\r\n\r\n    let token = localStorage.getItem(\"accessToken\");\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    let profID = localStorage.getItem(\"profileID\");\r\n\r\n    axios\r\n      .post(`/user/profile/vacancy/`, fd, config)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.status === 201) {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertColor: \"success\",\r\n            alertData: \"Publicación exitosa\",\r\n          });\r\n          setTimeout(() => {\r\n            this.setState({\r\n              showAlert: false,\r\n            });\r\n          }, 2000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.setState({\r\n          showAlert: true,\r\n          alertColor: \"danger\",\r\n          alertData: \"Algo malió sal\",\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({\r\n            showAlert: false,\r\n          });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let logStatus = localStorage.getItem('logStatus');\r\n    if(logStatus === null){\r\n      return <Redirect to='/userLogin'/>\r\n    }\r\n\r\n    let alertData = null;\r\n    if (this.state.showAlert) {\r\n      alertData = (\r\n        <CustomAlert\r\n          color={this.state.alertColor}\r\n          content={this.state.alertData}\r\n          hidePop={this.hidePop}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        {alertData}\r\n        <div className=\"body postJobsBody\">\r\n          <h6 className=\"postJobHeadLine\">Consigue tus a&ntilde;os r&acute;pido</h6>\r\n\r\n          <PostJobForm submitForm={this.submitForm} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostJob;\r\n"]},"metadata":{},"sourceType":"module"}