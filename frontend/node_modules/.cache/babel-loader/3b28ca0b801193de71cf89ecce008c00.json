{"ast":null,"code":"var _jsxFileName = \"/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/components/CreatePost/Modal/CreatePostModal.js\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport defaultPropfPic from \"../../../assets/defaultProfilePic.png\";\nimport axios from '../../../API/baseURL/baseURL';\nimport { connect } from 'react-redux';\n\nclass CreatePostModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: null,\n      name: null,\n      tagline: null,\n      img: null,\n      profilePic: null,\n      postText: null,\n      selectedType: null,\n      videoSelected: null,\n      videoSelectedSrc: null,\n      imgSelected: null,\n      imgSelectedSrc: null\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.createPost(this.state);\n      setTimeout(() => {\n        this.props.hideModal();\n      }, 500);\n    };\n\n    this.onChangeImg = event => {\n      console.log(event);\n      console.log(URL.createObjectURL(event.target.files[0]));\n      this.setState({\n        selectedType: \"img\",\n        imgSelected: event.target.files[0],\n        imgSelectedSrc: URL.createObjectURL(event.target.files[0])\n      });\n      console.log(this.state);\n    };\n\n    this.onChangeVideo = event => {\n      console.log(event);\n      console.log(URL.createObjectURL(event.target.files[0]));\n      this.setState({\n        selectedType: \"video\",\n        videoSelected: event.target.files[0],\n        videoSelectedSrc: URL.createObjectURL(event.target.files[0])\n      });\n      console.log(this.state);\n    };\n  }\n\n  componentDidMount() {// let token = localStorage.getItem(\"accessToken\");\n    // const config = {\n    //   headers: { Authorization: `Bearer ${token}` },\n    // };\n    // axios\n    //   .get(\"/user/info/\", config)\n    //   .then((res) => {\n    //     console.log(res);\n    //     this.setState({\n    //       name: res.data.user_name,\n    //       tagline: res.data.user_tagline,\n    //       img: res.data.user_avatar\n    //      });\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n  } // handleImgClick = (e) => {\n  //   this.refs.imgUploader.click();\n  //   console.log(e);\n  // }\n  // imgChangeHandler = (event) => {\n  //   console.log(event);\n  //   console.log(URL.createObjectURL(event.target.files[0]));\n  //   this.setState({\n  //     imgSelected: event.target.files[0],\n  //     // profilePic : event.target.result\n  //     imgSelectedSrc: URL.createObjectURL(event.target.files[0]),\n  //   });\n  //   console.log(this.state);\n  // };\n  // handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   if (formValid(this.state)) {\n  //     setTimeout(() => {\n  //       this.props.editUserDetails(this.state);\n  //       this.props.hideModal();\n  //     }, 1000);\n  //   } else {\n  //     console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n  //   }\n  // };\n\n\n  render() {\n    let userPic = this.props.data.img;\n\n    if (userPic === null) {\n      userPic = defaultPropfPic;\n    }\n\n    let displayData = null;\n\n    if (this.state.selectedType === \"img\" && this.state.imgSelected !== null) {\n      displayData = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"displaySelected\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.imgSelectedSrc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    if (this.state.selectedType === \"video\" && this.state.videoSelected !== null) {\n      displayData = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"displaySelected\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        src: this.state.videoSelectedSrc,\n        controls: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n      show: true,\n      animation: false,\n      onHide: this.props.hideModal,\n      className: \"createPostModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"postModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"postModalHead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, \"Create post\"), /*#__PURE__*/React.createElement(\"i\", {\n      onClick: this.props.hideModal,\n      class: \"fas closeModal fa-times\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      className: \"editUserDetails\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"createPostModalHead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userPic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: userPic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userDesc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, this.props.data.name), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"tagline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }, this.props.data.tagline)), /*#__PURE__*/React.createElement(\"textarea\", {\n      required: true,\n      value: this.state.postText,\n      onChange: e => {\n        this.setState({\n          postText: e.target.value\n        });\n      },\n      type: \"text\",\n      class: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"What do you want to talk about?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }), displayData), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modalBottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file1\",\n      style: {\n        display: \"none\"\n      },\n      accept: \"image/*\",\n      onChange: this.onChangeImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"file1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file2\",\n      style: {\n        display: \"none\"\n      },\n      accept: \"video/*\",\n      onChange: this.onChangeVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"file2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-video\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"userSaveButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, \"Post\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.prof.userData\n  };\n};\n\nexport default connect(mapStateToProps)(CreatePostModal);","map":{"version":3,"sources":["/home/sergi/Documents/Repos/My_Repos/Cotiza-T_ISW/frontend/src/components/CreatePost/Modal/CreatePostModal.js"],"names":["React","Component","Modal","defaultPropfPic","axios","connect","CreatePostModal","state","userName","name","tagline","img","profilePic","postText","selectedType","videoSelected","videoSelectedSrc","imgSelected","imgSelectedSrc","handleSubmit","e","preventDefault","props","createPost","setTimeout","hideModal","onChangeImg","event","console","log","URL","createObjectURL","target","files","setState","onChangeVideo","componentDidMount","render","userPic","data","displayData","value","display","mapStateToProps","prof","userData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport defaultPropfPic from \"../../../assets/defaultProfilePic.png\";\r\nimport axios from '../../../API/baseURL/baseURL';\r\nimport { connect } from 'react-redux';\r\n\r\nclass CreatePostModal extends Component {\r\n  state = {\r\n    userName: null,\r\n    name: null,\r\n    tagline: null,\r\n    img: null,\r\n    profilePic: null,\r\n    postText: null,\r\n    selectedType: null,\r\n    videoSelected: null,\r\n    videoSelectedSrc: null,\r\n    imgSelected: null,\r\n    imgSelectedSrc: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // let token = localStorage.getItem(\"accessToken\");\r\n    // const config = {\r\n    //   headers: { Authorization: `Bearer ${token}` },\r\n    // };\r\n    // axios\r\n    //   .get(\"/user/info/\", config)\r\n    //   .then((res) => {\r\n    //     console.log(res);\r\n    //     this.setState({\r\n    //       name: res.data.user_name,\r\n    //       tagline: res.data.user_tagline,\r\n    //       img: res.data.user_avatar\r\n    //      });\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     console.log(err);\r\n    //   });\r\n  }\r\n  // handleImgClick = (e) => {\r\n  //   this.refs.imgUploader.click();\r\n  //   console.log(e);\r\n  // }\r\n\r\n  // imgChangeHandler = (event) => {\r\n  //   console.log(event);\r\n  //   console.log(URL.createObjectURL(event.target.files[0]));\r\n  //   this.setState({\r\n  //     imgSelected: event.target.files[0],\r\n  //     // profilePic : event.target.result\r\n  //     imgSelectedSrc: URL.createObjectURL(event.target.files[0]),\r\n  //   });\r\n  //   console.log(this.state);\r\n  // };\r\n\r\n  // handleSubmit = (e) => {\r\n  //   e.preventDefault();\r\n\r\n  //   if (formValid(this.state)) {\r\n  //     setTimeout(() => {\r\n  //       this.props.editUserDetails(this.state);\r\n  //       this.props.hideModal();\r\n  //     }, 1000);\r\n  //   } else {\r\n  //     console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\r\n  //   }\r\n  // };\r\n\r\n  handleSubmit= (e) => {\r\n    e.preventDefault();\r\n    this.props.createPost(this.state);\r\n    setTimeout(()=>{\r\n      this.props.hideModal();\r\n    },500)\r\n  }\r\n\r\n  onChangeImg = (event) => {\r\n    console.log(event);\r\n    console.log(URL.createObjectURL(event.target.files[0]));\r\n    this.setState({\r\n      selectedType: \"img\",\r\n      imgSelected: event.target.files[0],\r\n      imgSelectedSrc: URL.createObjectURL(event.target.files[0]),\r\n    });\r\n    console.log(this.state);\r\n  };\r\n\r\n  onChangeVideo = (event) => {\r\n    console.log(event);\r\n    console.log(URL.createObjectURL(event.target.files[0]));\r\n    this.setState({\r\n      selectedType: \"video\",\r\n      videoSelected: event.target.files[0],\r\n      videoSelectedSrc: URL.createObjectURL(event.target.files[0]),\r\n    });\r\n    console.log(this.state);\r\n  };\r\n\r\n  render() {\r\n    let userPic = this.props.data.img;\r\n    if (userPic === null) {\r\n      userPic = defaultPropfPic;\r\n    }\r\n\r\n    let displayData = null;\r\n    if (this.state.selectedType === \"img\" && this.state.imgSelected !== null) {\r\n      displayData = (\r\n        <div className=\"displaySelected\">\r\n          <img src={this.state.imgSelectedSrc} />\r\n        </div>\r\n      );\r\n    }\r\n    if (\r\n      this.state.selectedType === \"video\" &&\r\n      this.state.videoSelected !== null\r\n    ) {\r\n      displayData = (\r\n        <div className=\"displaySelected\">\r\n          <video src={this.state.videoSelectedSrc} controls/>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          show={true}\r\n          animation={false}\r\n          onHide={this.props.hideModal}\r\n          className=\"createPostModal\"\r\n        >\r\n          <div className=\"postModal\">\r\n            <h5 className=\"postModalHead\">Create post</h5>\r\n            <i\r\n              onClick={this.props.hideModal}\r\n              class=\"fas closeModal fa-times\"\r\n            ></i>\r\n\r\n            <form\r\n              encType=\"multipart/form-data\"\r\n              className=\"editUserDetails\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <div className=\"createPostModalHead\">\r\n                <div className=\"userPic\">\r\n                  <img src={userPic} />\r\n                </div>\r\n\r\n                <div className=\"userDesc\">\r\n                  {/* <h6 className=\"name\">{this.state.name}</h6> */}\r\n                  <h6 className=\"name\">{this.props.data.name}</h6>\r\n                  <h6 className=\"tagline\">\r\n                    {/* {this.state.tagline} */}\r\n                    {this.props.data.tagline}\r\n                  </h6>\r\n                </div>\r\n\r\n                <textarea\r\n                  required\r\n                  value={this.state.postText}\r\n                  onChange={(e) => {\r\n                    this.setState({ postText: e.target.value });\r\n                  }}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"exampleInputEmail1\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"What do you want to talk about?\"\r\n                />\r\n\r\n                {displayData}\r\n              </div>\r\n\r\n              {/* <div className=\"form-group\">\r\n                <label>Profile Img : </label>\r\n                <br></br>\r\n                <div>\r\n                  <input\r\n                    name=\"img\"\r\n                    onChange={this.fileChangedHandler}\r\n                    type=\"file\"\r\n                    style={{ width: \"100%\" }}\r\n                  ></input>\r\n                </div>\r\n              </div>  */}\r\n\r\n              <div className=\"modalBottom\">\r\n                {/* <h6 className=\"userCloseButton\" onClick={this.props.hideModal}>\r\n                  Close\r\n                </h6> */}\r\n                <div>\r\n                  {/* <i class=\"fas fa-image\" onClick={this.handleImgClick}></i>\r\n                  <input type='file' ref=\"imgUploader\"></input> */}\r\n\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"file1\"\r\n                    style={{ display: \"none\" }}\r\n                    accept=\"image/*\"\r\n                    onChange={this.onChangeImg}\r\n                  />\r\n                  <label htmlFor=\"file1\">\r\n                    <i class=\"fas fa-image\"></i>\r\n                  </label>\r\n\r\n                  {/* <input\r\n                    name=\"img\"\r\n                    onChange={this.imgChangeHandler}\r\n                    type=\"file\"\r\n                  ></input> */}\r\n\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"file2\"\r\n                    style={{ display: \"none\" }}\r\n                    accept=\"video/*\"\r\n                    onChange={this.onChangeVideo}\r\n                  />\r\n                  <label htmlFor=\"file2\">\r\n                    <i class=\"fas fa-video\"></i>\r\n                  </label>\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"userSaveButton\">\r\n                  Post\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      data: state.prof.userData,\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(CreatePostModal);\r\n"]},"metadata":{},"sourceType":"module"}